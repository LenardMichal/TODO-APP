(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,function(e,t,n){e.exports={LoggedView:"LoggedView_LoggedView__1uHqj",doneStyle:"LoggedView_doneStyle__3x5Ic",box:"LoggedView_box__3fRN5"}},function(e,t,n){e.exports={LoginForm:"LoginForm_LoginForm__121sQ",disclaimer:"LoginForm_disclaimer__3oyoR"}},,,function(e,t,n){e.exports={InputTodo:"InputTodo_InputTodo__5FPDE"}},function(e,t,n){e.exports={App:"App_App__1NldQ"}},function(e,t,n){e.exports=n(18)},,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(7),c=n.n(r),s=(n(16),n(1)),i=n.n(s),u=n(3),l=n(2),p=n(4),d=n.n(p),m=n(8),f=n.n(m),g=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),u=i[0],p=i[1];return Object(a.useEffect)(function(){localStorage.getItem("user")&&p(localStorage.getItem("user"))},[]),o.a.createElement("div",{className:f.a.InputTodo},o.a.createElement("input",{type:"text",value:r,onChange:function(e){return c(e.target.value)},maxLength:"300",placeholder:"Add TODO"}),o.a.createElement("input",{type:"text",value:u,onChange:function(e){return p(e.target.value)},maxLength:"30",placeholder:"By"}),o.a.createElement("button",{onClick:function(t){localStorage.setItem("user",u),e.addTask({user:u,content:r})}},"Add"),o.a.createElement("button",{onClick:e.cleanupList},"CleanUp"))},h=function(e){var t=e.todoList.todo.map(function(t){var n="";return!0===t.done&&(n=d.a.doneStyle),o.a.createElement("li",{key:t._id,className:n},o.a.createElement("span",null,t.content),o.a.createElement("span",{title:t.date},t.user),o.a.createElement("button",{value:t._id,onClick:function(t){return e.taskDone(t.target.value)}},"DONE"))});return o.a.createElement(a.Fragment,null,o.a.createElement("div",{className:d.a.box},o.a.createElement("h2",null,"DB name: ",e.todoList.login),o.a.createElement("button",{onClick:function(){sessionStorage.removeItem("pwd"),window.location.reload()}},"Logout!")),o.a.createElement(g,{addTask:e.addTask,cleanupList:e.cleanupList}),o.a.createElement("ul",{className:d.a.LoggedView},t))},w=n(5),b=n.n(w),v=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(""),i=Object(l.a)(s,2),u=i[0],p=i[1],d=Object(a.useRef)(null);return Object(a.useEffect)(function(){localStorage.getItem("login")&&c(localStorage.getItem("login"))},[]),o.a.createElement(a.Fragment,null,o.a.createElement("section",{className:b.a.LoginForm},o.a.createElement("input",{type:"text",maxLength:"30",value:r,placeholder:"DB name",onChange:function(e){return c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d.current.focus()}}),o.a.createElement("input",{type:"password",maxLength:"30",value:u,ref:d,placeholder:"Password",onChange:function(e){return p(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&e.login({login:r,pwd:u})}}),o.a.createElement("button",{onClick:function(t){console.log(),e.login({login:r,pwd:u})}},"Get In!")),o.a.createElement("section",{className:b.a.disclaimer},o.a.createElement("h1",null,"Disclaimer!"),o.a.createElement("p",null,"TODO app only for fun purposes. I'm not responsible for any content added by 3rd party users. Todo list is created for each DBName-password pair, and password isn't encrypted in database. Use with caution.")))};function E(e){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://lenek93.usermd.net/api/login",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return(j=Object(u.a)(i.a.mark(function e(t){var n,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://lenek93.usermd.net/api/update",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"},mode:"cors"});case 2:return n=e.sent,e.next=5,n.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}var x=n(9),k=n.n(x);var S=function(){var e=Object(a.useState)(null),t=Object(l.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(null),s=Object(l.a)(c,2),p=s[0],d=s[1],m=o.a.createElement("div",null,"View");function f(){return(f=Object(u.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(n);case 3:t=e.sent,d(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function g(){(n||p)&&function(){f.apply(this,arguments)}()}function w(){return(w=Object(u.a)(i.a.mark(function e(t){var n,a,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Object.assign({},p),a={content:t.content,user:t.user},n.todo.unshift(a),e.next=6,O(n);case 6:o=e.sent,d(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])}))).apply(this,arguments)}function b(){return(b=Object(u.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=Object.assign({},p),n=t.todo.filter(function(e){return!1===e.done}),t.todo=n,d(t),O(t);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(a.useEffect)(function(){n&&(localStorage.setItem("login",n.login),sessionStorage.setItem("pwd",n.pwd))},[n]),Object(a.useEffect)(function(){if(null===n&&localStorage.getItem("login")&&sessionStorage.getItem("pwd")){var e=localStorage.getItem("login"),t=sessionStorage.getItem("pwd");r({login:e,pwd:t})}},[]),Object(a.useEffect)(function(){g()},[n]),m=null===p?o.a.createElement(v,{login:function(e){r(e)}}):o.a.createElement(h,{todoList:p,taskDone:function(e){var t=Object.assign({},p);t.todo.filter(function(t){return t._id===e})[0].done=!0,d(t),O(p)},addTask:function(e){return w.apply(this,arguments)},cleanupList:function(){return b.apply(this,arguments)}}),o.a.createElement("div",{className:k.a.App},o.a.createElement("h1",null,"TODO App"),m)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.3a73105b.chunk.js.map